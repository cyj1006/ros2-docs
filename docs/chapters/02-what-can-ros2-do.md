# 02 ROS2 能干什么



在上一章，我们解决了一个基础问题：



> ROS2 是什么？



这一章我们继续往前一步，回答一个更现实的问题：



> 学 ROS2，到底能干什么？



如果你只停留在“概念理解”，那 ROS2 会显得很抽象；  

但一旦你看到它在**真实机器人系统中的位置**，一切就会变得清晰。



---



## 2.1 ROS2 主要解决哪些问题



机器人并不是一个“程序”，而是一个**由很多部分组成的复杂系统**。



它通常包括：



- 各种传感器（摄像头、雷达、IMU）

- 执行机构（轮子、电机、机械臂）

- 计算单元（工控机、嵌入式板）



ROS2 主要帮你解决下面三个核心问题。



---



### 2.1.1 通信问题（最核心）



想象一个场景：



- 摄像头“看到”前方有障碍物

- 控制轮子的程序必须立刻知道这件事

- 决策模块要根据这些信息改变运动策略



!!! info "关键问题"

&nbsp;   这些模块如何交换数据，才不会乱套？



ROS2 为此提供了三种标准通信方式。



---



#### 话题（Topic）：持续广播的数据流



!!! tip "一句话理解"

&nbsp;   话题就像广播电台。



- 发布者：不停地往外“播数据”

- 订阅者：只关心自己想听的内容

- 发布者和订阅者互不认识、互不依赖



**典型场景：**



- 摄像头发布图像

- 雷达发布距离数据

- 里程计发布位姿信息



---



#### 服务（Service）：一问一答



!!! tip "一句话理解"

&nbsp;   服务就像打电话。



- 客户端发送请求

- 服务端处理后返回结果

- 请求方必须等待回应



**典型场景：**



- 查询当前电量

- 清空地图

- 重置某个状态



---



#### 动作（Action）：有过程的任务



!!! tip "一句话理解"

&nbsp;   动作就像网购。



- 你下单（发送目标）

- 系统不断告诉你进度

- 最终完成或失败

- 中途还可以取消



**典型场景：**



- 导航到目标点

- 机械臂执行抓取动作



---



### 2.1.2 硬件抽象（非常重要）



不同厂商的硬件，接口几乎都不一样：



- 摄像头 A 用 USB

- 摄像头 B 用网口

- 激光雷达型号各不相同



如果你**直接和硬件打交道**：



- 换一个设备就要改一堆代码

- 项目几乎无法复用



!!! info "ROS2 的做法"

&nbsp;   ROS2 在硬件和算法之间，加了一层统一接口。



不管你用什么牌子的设备：



- 图像 → 统一格式

- 雷达 → 统一格式

- 控制指令 → 统一格式



这样你写的算法，就可以跨硬件复用。



---



### 2.1.3 工具支持（工程效率）



ROS2 不只是通信框架，还自带大量工程工具：



- **RViz2**：3D 可视化机器人状态

- **Gazebo**：仿真环境，虚拟测试机器人

- **ros2 bag**：录制和回放数据

- **rqt 系列工具**：查看节点、话题、日志



!!! success "工程意义"

&nbsp;   这些工具让你可以在没有真实机器人的情况下完成大部分开发和调试。



---



## 2.2 ROS2 都用在哪些地方



学 ROS2，并不是“只能做一种机器人”。下面是几个常见应用场景。



---



### 移动机器人



- 扫地机器人

- 送餐机器人

- 仓库搬运机器人



常用功能：



- SLAM 建图

- 导航与避障



---



### 机械臂



- 工业机械臂

- 协作机器人



!!! info "关键框架"

&nbsp;   ROS2 中常用 MoveIt2 做运动规划。



---



### 无人机



- 航拍

- 巡检

- 农业植保



---



### 自动驾驶（研发阶段）



- 算法验证

- 系统原型



!!! warning "现实说明"

&nbsp;   真正上路的自动驾驶系统未必直接使用 ROS。  

&nbsp;   但在研发阶段，很多团队会依赖 ROS 做原型验证。



---



## 2.3 一个完整机器人系统的例子



假设我们要做一个**室内移动机器人**，它需要：



1. 感知环境

2. 判断自己位置

3. 规划路径

4. 控制运动



在 ROS2 中，系统通常这样拆分：



- 传感器节点：发布雷达、摄像头数据

- 感知节点：处理传感器信息

- 决策节点：决定往哪走

- 控制节点：输出电机指令



!!! info "关键理解"

&nbsp;   每一个方块，都是一个独立节点。  

&nbsp;   它们通过话题通信，而不是直接互相调用。



这样做的好处是：



- 模块解耦

- 易于调试

- 易于扩展

- 易于替换



---



## 本章小结



通过这一章，你应该已经理解：



- ROS2 的核心作用是连接各个模块

- 它解决了通信、硬件复用和工程效率问题

- ROS2 并不是“某一个算法”，而是系统级框架

- 真实机器人系统，几乎都可以用 ROS2 拆解建模



---



## 下一章预告



下一章我们会回顾历史，回答一个很多新手都会问的问题：



> 既然已经有 ROS1，为什么还要有 ROS2？



你会理解 ROS2 的设计动机，以及为什么现在应该直接学习 ROS2。



